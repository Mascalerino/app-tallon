<div class="quiz-table-container" [class.table-completed]="isFilled">
  <div class="table-header">
    <div class="table-icon" [class.completed]="isFilled">
      <i class="fas" [ngClass]="getTableIcon()"></i>
    </div>
    <h3 class="table-title">{{ tableTitle }}</h3>
    <div class="completion-badge" *ngIf="isFilled">
      <i class="fas fa-check-circle"></i>
    </div>
  </div>

  <div class="table-content">
    <div class="table-items">
      <div
        *ngFor="let item of data; let i = index"
        class="table-item"
        [class.item-visible]="item.isShowing"
        [class.item-correct]="item.isShowing && !item.isMissing"
        [class.item-missing]="item.isMissing"
        [class.placeholder]="!item.isShowing"
        [class.animate-slide-in]="item.isShowing && !item.isMissing"
        [style.animation-delay]="(i * 0.05) + 's'"
      >
        <!-- Contenido visible cuando el personaje está encontrado -->
        <ng-container *ngIf="item.isShowing">
          <div class="item-indicator">
            <i class="fas" [ngClass]="getItemIcon(item)"></i>
          </div>
          
          <div class="item-content">
            <!-- Characters Variant -->
            <ng-container *ngIf="dataType === 'characters'">
              <span class="item-name">{{ item.fullName }}</span>
              <span class="item-description" *ngIf="item.explanation">
                {{ item.explanation }}
              </span>
            </ng-container>

            <!-- Episodes Variant -->
            <ng-container *ngIf="dataType === 'episodes'">
              <span class="episode-number">
                {{ seasonNumber }}x{{ item.episode < 10 ? "0" + item.episode : item.episode }}
              </span>
              <span class="item-name">{{ item.fullName }}</span>
            </ng-container>
          </div>
        </ng-container>

        <!-- Placeholder cuando el personaje no está encontrado -->
        <ng-container *ngIf="!item.isShowing">
          <div class="placeholder-content">
            <div class="placeholder-dots">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Progress indicator -->
    <div class="progress-indicator" *ngIf="data.length > 0">
      <div class="progress-bar">
        <div
          class="progress-fill"
          [style.width.%]="getCompletionPercentage()"
        ></div>
      </div>
      <span class="progress-text">
        {{ getVisibleCount() }} / {{ data.length }}
      </span>
    </div>
  </div>
</div>
